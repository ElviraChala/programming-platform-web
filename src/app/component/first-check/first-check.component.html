<!-- –Ø–∫—â–æ —Å—Ç—É–¥–µ–Ω—Ç —î —ñ —Ç–µ—Å—Ç —Ç—Ä–µ–±–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç–∏ -->
<div *ngIf="student?.isFirst" class="container">
  <div *ngIf="firstCheck && firstCheck.questionIds && firstCheck.questionIds.length > 0">
      <h1>–û—Ü—ñ–Ω–∫–∞ –ø–æ—á–∞—Ç–∫–æ–≤–∏—Ö –∑–Ω–∞–Ω—å üìù</h1>

    <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è—Ö -->
    <div *ngIf="!showResults && currentQuestionIndex < firstCheck.questionIds.length" class="navigation-panel">
      <div class="question-buttons">
        <button class="answer-options"
          *ngFor="let id of firstCheck?.questionIds; let i = index"
          [class.current]="i === currentQuestionIndex"
          [class.answered]="isAnswers[i]"
          [class.unanswered]="!isAnswers[i]"
          (click)="goToQuestion(i)">
          {{ i + 1 }}
        </button>
      </div>
    </div>

    <!-- –ü–æ—Ç–æ—á–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è -->
    <div *ngIf="!showResults && currentQuestionIndex < firstCheck.questionIds.length"
         class="question-container">
      <h2>–ó–∞–ø–∏—Ç–∞–Ω–Ω—è {{ currentQuestionIndex + 1 }}:</h2>

      <!-- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞–ø–∏—Ç–∞–Ω–Ω—è -->
      <app-question
        [idQuestion]="currentQuestionId"
        [(ngModel)]="currentAnswer">
      </app-question>

      <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ -->
      <button class="answer"
        (click)="getAnswer()"
        [disabled]="!currentAnswer.trim()">
        {{ currentQuestionIndex + 1 === firstCheck.questionIds.length ? '–ó–∞–≤–µ—Ä—à–∏—Ç–∏' : '–í—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏' }}
      </button>
      <button *ngIf="currentQuestionIndex + 1 !== firstCheck.questionIds.length"
              class="over"
              (click)="finishTest()">
        –ó–∞–≤–µ—Ä—à–∏—Ç–∏
      </button>
    </div>

  </div>

  <!-- –Ø–∫—â–æ —Ç–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ -->
  <div *ngIf="!showResults && firstCheck && currentQuestionIndex >= firstCheck.questionIds.length"
       class="test-completion">
    <h2>–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –î—è–∫—É—î–º–æ –∑–∞ —É—á–∞—Å—Ç—å.</h2>
    <button (click)="submitAnswers()">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ</button>
  </div>

  <div *ngIf="showResults" class="result-container result-with-bg">
    <h2>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç {{ resultScore | number:'1.2-2' }}</h2>
    <p class="level">—Ä—ñ–≤–µ–Ω—å {{ resultLevel }}</p>
    <p class="feedback-message">{{ feedbackMessage }}</p>
    <button (click)="goToCourses()" class="go-to-course">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –∫—É—Ä—Å—ñ–≤</button>
    <img src="/img-result.png" alt="Programming Illustration">
  </div>

</div>
